{
  "kind": "Dashboard",
  "metadata": {
    "name": "ceph-rgw-overview",
    "project": "ceph-storage"
  },
  "spec": {
    "display": {
      "name": "ceph rgw overview"
    },
    "panels": {
      "0_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "RGW Status"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "count(ceph_rgw_metadata{})",
                    "seriesNameFormat": "Up"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "count(ceph_rgw_metadata{}) - sum(ceph_rgw_metadata{})",
                    "seriesNameFormat": "Down"
                  }
                }
              }
            }
          ]
        }
      },
      "0_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Used Cluster Capacity"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom"
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "ceph_cluster_total_used_bytes{}",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_10": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Data Sent / Received"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_cluster_bytes_sent_per_sec{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": "Data Sent"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_cluster_bytes_received_per_sec{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": "Data Received"
                  }
                }
              }
            }
          ]
        }
      },
      "0_11": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Data Downloaded"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "bytes"
              },
              "sparkline": {},
              "thresholds": {
                "steps": []
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "radosgw_cluster_bytes_sent_total{job=~\"$job\"} - (radosgw_cluster_bytes_sent_total{job=~\"$job\"} offset $__range_s )",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_12": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Data Uploaded"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "bytes"
              },
              "sparkline": {},
              "thresholds": {
                "defaultColor": "#2FBF71",
                "steps": []
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "radosgw_cluster_bytes_received_total{job=~\"$job\"} - (radosgw_cluster_bytes_received_total{job=~\"$job\"} offset ${__range_s})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_13": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "RGW Throughput"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(irate(ceph_rgw_get_b{}[$__rate_interval]))",
                    "seriesNameFormat": "GET"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(irate(ceph_rgw_put_b{}[$__rate_interval]))",
                    "seriesNameFormat": "PUT"
                  }
                }
              }
            }
          ]
        }
      },
      "0_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Used Cluster Capacity"
          },
          "plugin": {
            "kind": "GaugeChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "percent-decimal"
              },
              "max": 1,
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 0.7
                  },
                  {
                    "color": "red",
                    "value": 0.8
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "ceph_cluster_total_used_bytes{} / ceph_cluster_total_bytes{}",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Cluster Throughput"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "irate(radosgw_cluster_throughput_bytes_per_sec{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Available Cluster Capacity"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "ceph_cluster_total_bytes{}",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Available Cluster Capacity"
          },
          "plugin": {
            "kind": "GaugeChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "percent-decimal"
              },
              "max": 1,
              "thresholds": {
                "steps": [
                  {
                    "color": "red",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 0.1
                  },
                  {
                    "color": "green",
                    "value": 0.3
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "(ceph_cluster_total_bytes{} - ceph_cluster_total_used_bytes{}) / ceph_cluster_total_bytes{}",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Cluster Reads/Writes"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_cluster_reads_per_sec{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": "Read OPs"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_cluster_writes_per_sec{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": "Write OPs"
                  }
                }
              }
            }
          ]
        }
      },
      "0_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Objects in the Cluster"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "decimal"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum (ceph_pool_objects) by (pool_id)",
                    "seriesNameFormat": "pool id {{ pool_id }}"
                  }
                }
              }
            }
          ]
        }
      },
      "0_8": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Cluster Total OPs"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_cluster_ops_total{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_9": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Current Cluster OPs"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_cluster_ops_per_sec{job=\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "1_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Average GET/PUT Latencies"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "avg(rate(ceph_rgw_get_initial_lat_sum[$__rate_interval]) / rate(ceph_rgw_get_initial_lat_count[$__rate_interval]))",
                    "seriesNameFormat": "GET AVG"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "avg(rate(ceph_rgw_put_initial_lat_sum[$__rate_interval]) / rate(ceph_rgw_put_initial_lat_count[$__rate_interval]))",
                    "seriesNameFormat": "PUT AVG"
                  }
                }
              }
            }
          ]
        }
      },
      "1_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Requests/sec by RGW Instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_req[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_10": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Workload Breakdown Failures"
          },
          "plugin": {
            "kind": "PieChart",
            "spec": {
              "calculation": "last",
              "format": {
                "shortValues": true,
                "unit": "decimal"
              },
              "legend": {
                "position": "right"
              },
              "mode": "value",
              "radius": 50,
              "sort": "desc",
              "visual": {
                "areaOpacity": 0,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_failed_req[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "Failures {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_10-2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Workload Breakdown Get"
          },
          "plugin": {
            "kind": "PieChart",
            "spec": {
              "calculation": "last",
              "format": {
                "shortValues": true,
                "unit": "decimal"
              },
              "legend": {
                "position": "right"
              },
              "mode": "value",
              "radius": 50,
              "sort": "desc",
              "visual": {
                "areaOpacity": 0,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_get[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "GET {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_10-3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Workload Breakdown Put"
          },
          "plugin": {
            "kind": "PieChart",
            "spec": {
              "calculation": "last",
              "format": {
                "shortValues": true,
                "unit": "decimal"
              },
              "legend": {
                "mode": "list",
                "position": "right"
              },
              "mode": "value",
              "radius": 50,
              "sort": "desc",
              "visual": {
                "areaOpacity": 0,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_put[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "PUT {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_10-4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Workload Breakdown other (DELETE,LIST)"
          },
          "plugin": {
            "kind": "PieChart",
            "spec": {
              "calculation": "last",
              "format": {
                "shortValues": true,
                "unit": "decimal"
              },
              "legend": {
                "mode": "list",
                "position": "right"
              },
              "mode": "value",
              "radius": 50,
              "sort": "desc",
              "visual": {
                "areaOpacity": 0,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_req[$__rate_interval]) -\n    (rate(ceph_rgw_get[$__rate_interval]) + rate(ceph_rgw_put[$__rate_interval])),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "Other (DELETE,LIST) {{ rgw_host}}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_11": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "HTTP Request Breakdown"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_failed_req[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "Requests Failed {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "GETs {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "PUTs {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_req[$__rate_interval]) - (rate(ceph_rgw_get[$__rate_interval]) + rate(ceph_rgw_put[$__rate_interval])),\n\"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "Other {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "GET Latencies by RGW Instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_get_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Request Queue Length"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "mean",
              "format": {
                "unit": "decimal"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(ceph_rgw_qlen)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "1_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Bandwidth Consumed by Type"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(rate(ceph_rgw_get_b[$__rate_interval]))",
                    "seriesNameFormat": "GETs"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(rate(ceph_rgw_put_b[$__rate_interval]))",
                    "seriesNameFormat": "PUTs"
                  }
                }
              }
            }
          ]
        }
      },
      "1_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Bandwidth by RGW Instance",
            "description": "Total bytes transferred in/out through get/put operations, by radosgw instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by(rgw_host) (\n  (label_replace(rate(ceph_rgw_get_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")) + \n  (label_replace(rate(ceph_rgw_put_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"))\n)",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "PUT Latencies by RGW Instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_put_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Failed Requests"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_failed_req[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_8": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "All GET/PUT Latencies"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_get_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "GET {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_put_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "PUT {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_9": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Bandwidth by HTTP Operation"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "GETs {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "PUTs {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Throughput Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_bucket_throughput_bytes_per_sec{job=~\"$job\", bucket=~\"$bucket\"}[$__rate_interval])",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Read OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_bucket_read_ops_per_sec{job=~\"$job\", bucket=~\"$bucket\"}[$__rate_interval])",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, rate(radosgw_bucket_ops_per_sec{job=~\"$job\"}[$__rate_interval]) > 0)",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Write OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_bucket_write_ops_per_sec{job=~\"$job\", bucket=~\"$bucket\"}[$__rate_interval])",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Current OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_bucket_ops_per_sec{job=~\"$job\", bucket=~\"$bucket\"}[$__rate_interval])",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Capacity Consumers Per Bucket"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "owner"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "hide": true,
                  "name": "zonegroup"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_usage_bucket_bytes{job=~\"$job\"} > 0)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "2_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Objects Per Bucket"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "owner"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "hide": true,
                  "name": "zonegroup"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sort_desc(radosgw_usage_bucket_objects{job=~\"$job\", bucket=~\"$bucket\"} > 0)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Throughput Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_user_throughput_bytes_per_sec{user=~\"$user\", job=~\"$job\"}[$__rate_interval])",
                    "seriesNameFormat": "{{user}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Write OPs Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "radosgw_user_write_ops_per_sec{user=~\"$user\", job=~\"$job\"}",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Current OPs Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "right",
                "values": ["last-number", "mean", "max"]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "radosgw_user_ops_per_sec{user=~\"$user\", job=~\"$job\"}",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Read OPs Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "radosgw_user_read_ops_per_sec{user=~\"$user\", job=~\"$job\"}",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - OPs per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_ops_per_sec{job=~\"$job\"})",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Amount Of Objects Per User"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "cellSettings": [
                {
                  "backgroundColor": "#2FBF71",
                  "condition": {
                    "kind": "Value",
                    "spec": {
                      "value": "service"
                    }
                  },
                  "text": "Akshay",
                  "textColor": "#000"
                }
              ],
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "header": "user",
                  "name": "user"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_objects_total{job=~\"$job\"} > 0)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Capacity Consumers Per User"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "header": "user",
                  "name": "user"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_capacity_usage_bytes{job=\"$job\"} > 0)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Buckets Per User"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "header": "user",
                  "name": "user"
                }
              ],
              "defaultColumnWidth": "auto",
              "density": "standard"
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_buckets_total{job=~\"$job\"} > 0)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      }
    },
    "layouts": [
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Cluster Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 9,
              "height": 6,
              "content": {
                "$ref": "#/spec/panels/0_0"
              }
            },
            {
              "x": 0,
              "y": 6,
              "width": 13,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_1"
              }
            },
            {
              "x": 14,
              "y": 0,
              "width": 4,
              "height": 6,
              "content": {
                "$ref": "#/spec/panels/0_2"
              }
            },
            {
              "x": 13,
              "y": 6,
              "width": 11,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_3"
              }
            },
            {
              "x": 0,
              "y": 15,
              "width": 13,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_4"
              }
            },
            {
              "x": 20,
              "y": 0,
              "width": 4,
              "height": 6,
              "content": {
                "$ref": "#/spec/panels/0_5"
              }
            },
            {
              "x": 13,
              "y": 15,
              "width": 11,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_6"
              }
            },
            {
              "x": 0,
              "y": 24,
              "width": 13,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_7"
              }
            },
            {
              "x": 0,
              "y": 33,
              "width": 13,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_8"
              }
            },
            {
              "x": 13,
              "y": 24,
              "width": 11,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_9"
              }
            },
            {
              "x": 13,
              "y": 33,
              "width": 11,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_10"
              }
            },
            {
              "x": 13,
              "y": 41,
              "width": 5,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_11"
              }
            },
            {
              "x": 19,
              "y": 41,
              "width": 5,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_12"
              }
            },
            {
              "x": 0,
              "y": 41,
              "width": 13,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_13"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "RGW Instance Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_0"
              }
            },
            {
              "x": 8,
              "y": 0,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_1"
              }
            },
            {
              "x": 16,
              "y": 0,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_2"
              }
            },
            {
              "x": 13,
              "y": 24,
              "width": 5,
              "height": 6,
              "content": {
                "$ref": "#/spec/panels/1_3"
              }
            },
            {
              "x": 0,
              "y": 7,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_4"
              }
            },
            {
              "x": 8,
              "y": 7,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_5"
              }
            },
            {
              "x": 16,
              "y": 7,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_6"
              }
            },
            {
              "x": 16,
              "y": 14,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_7"
              }
            },
            {
              "x": 8,
              "y": 14,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_9"
              }
            },
            {
              "x": 0,
              "y": 14,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_8"
              }
            },
            {
              "x": 1,
              "y": 24,
              "width": 10,
              "height": 11,
              "content": {
                "$ref": "#/spec/panels/1_11"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Workload Breakdown",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 12,
              "y": 0,
              "width": 12,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_10-3"
              }
            },
            {
              "x": 12,
              "y": 10,
              "width": 12,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_10"
              }
            },
            {
              "x": 0,
              "y": 0,
              "width": 11,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_10-2"
              }
            },
            {
              "x": 0,
              "y": 10,
              "width": 11,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_10-4"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Bucket Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 14,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_0"
              }
            },
            {
              "x": 14,
              "y": 0,
              "width": 10,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_1"
              }
            },
            {
              "x": 0,
              "y": 9,
              "width": 14,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/2_2"
              }
            },
            {
              "x": 14,
              "y": 9,
              "width": 10,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/2_3"
              }
            },
            {
              "x": 0,
              "y": 17,
              "width": 14,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_4"
              }
            },
            {
              "x": 14,
              "y": 17,
              "width": 10,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_5"
              }
            },
            {
              "x": 14,
              "y": 26,
              "width": 10,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_6"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "User Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 13,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_0"
              }
            },
            {
              "x": 13,
              "y": 0,
              "width": 11,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_1"
              }
            },
            {
              "x": 0,
              "y": 9,
              "width": 13,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_2"
              }
            },
            {
              "x": 13,
              "y": 9,
              "width": 11,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_3"
              }
            },
            {
              "x": 0,
              "y": 18,
              "width": 12,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_4"
              }
            },
            {
              "x": 12,
              "y": 18,
              "width": 12,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_5"
              }
            },
            {
              "x": 0,
              "y": 27,
              "width": 12,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_6"
              }
            },
            {
              "x": 12,
              "y": 27,
              "width": 12,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_7"
              }
            }
          ]
        }
      }
    ],
    "variables": [
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Datasource",
            "hidden": false
          },
          "defaultValue": "kube-monitoring-st1-eu-de-1-prometheus",
          "allowAllValue": false,
          "allowMultiple": false,
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "job",
              "matchers": ["prometheus_build_info"]
            }
          },
          "name": "datasource"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": true,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "job",
              "matchers": ["radosgw_user_metadata"]
            }
          },
          "name": "job"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": true,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "user",
              "matchers": ["radosgw_user_metadata"]
            }
          },
          "name": "user"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": true,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "bucket",
              "matchers": ["radosgw_bucket_capacity_usage_bytes"]
            }
          },
          "name": "bucket"
        }
      }
    ],
    "duration": "1h",
    "refreshInterval": "0s"
  }
}
