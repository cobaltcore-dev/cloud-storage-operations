{
  "kind": "Dashboard",
  "metadata": {
    "name": "ceph-rgw-overview",
    "project": "ceph-storage"
  },
  "spec": {
    "display": {
      "name": "ceph rgw overview"
    },
    "panels": {
      "0_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "RGW Status UP"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "decimal"
              },
              "thresholds": {
                "steps": []
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "count(ceph_rgw_metadata{})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_0-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "RGW Status DOWN"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "decimal"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "#EE6C6C",
                    "value": 1
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "count(ceph_rgw_metadata{}) - sum(ceph_rgw_metadata{})",
                    "seriesNameFormat": "Down"
                  }
                }
              }
            }
          ]
        }
      },
      "0_1-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Used Cluster Capacity"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "position": "bottom"
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "shortValues": true,
                  "unit": "bytes"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "ceph_cluster_total_used_bytes",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_10": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Data Sent / Received"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (cluster) (rate(radosgw_bytes_sent{tenant=\"all\", user=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "Data Sent"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (cluster) (rate(radosgw_bytes_received{tenant=\"all\", user=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "Data Received"
                  }
                }
              }
            }
          ]
        }
      },
      "0_11": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Data Uploaded/Downloaded"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (cluster) (increase(radosgw_bytes_received{tenant=\"all\", user=\"all\"}[$__range]))",
                    "seriesNameFormat": "Uploaded"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "query": "sum by (cluster) (increase(radosgw_bytes_sent{tenant=\"all\", user=\"all\"}[$__range]))",
                    "seriesNameFormat": "Downloaded"
                  }
                }
              }
            }
          ]
        }
      },
      "0_13-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "RGW OPs By Status"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "rate(radosgw_requests_by_status[$__rate_interval])",
                    "seriesNameFormat": "{{status}}"
                  }
                }
              }
            }
          ]
        }
      },
      "0_13-2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "RGW OPs By Method"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (method) (rate(radosgw_requests_by_method[$__rate_interval]))",
                    "seriesNameFormat": "{{method}}"
                  }
                }
              }
            }
          ]
        }
      },
      "0_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Used Cluster Capacity"
          },
          "plugin": {
            "kind": "GaugeChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "percent-decimal"
              },
              "max": 1,
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 0.7
                  },
                  {
                    "color": "red",
                    "value": 0.8
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "ceph_cluster_total_used_bytes / ceph_cluster_total_bytes",
                    "seriesNameFormat": " "
                  }
                }
              }
            }
          ]
        }
      },
      "0_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Cluster Throughput"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "last",
                  "mean",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (cluster) (rate(radosgw_bytes_sent{tenant=\"all\", user=\"all\"}[$__rate_interval])) +\nsum by (cluster) (rate(radosgw_bytes_received{tenant=\"all\", user=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "{{ cluster }}"
                  }
                }
              }
            }
          ]
        }
      },
      "0_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Available Cluster Capacity"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "position": "bottom"
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "ceph_cluster_total_bytes",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Available Cluster Capacity"
          },
          "plugin": {
            "kind": "GaugeChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "percent-decimal"
              },
              "max": 1,
              "thresholds": {
                "steps": [
                  {
                    "color": "red",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 0.1
                  },
                  {
                    "color": "green",
                    "value": 0.3
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "(ceph_cluster_total_bytes - ceph_cluster_total_used_bytes) / ceph_cluster_total_bytes",
                    "seriesNameFormat": " "
                  }
                }
              }
            }
          ]
        }
      },
      "0_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Cluster Reads/Writes"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "querySettings": [
                {
                  "colorMode": "fixed",
                  "colorValue": "#59CC8D",
                  "queryIndex": 0
                },
                {
                  "colorMode": "fixed",
                  "colorValue": "#FFB249",
                  "queryIndex": 1
                }
              ],
              "thresholds": {
                "steps": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum (\n  rate(radosgw_requests_by_method{method=~\"GET|HEAD\"}[$__rate_interval])\n)",
                    "seriesNameFormat": "Read OPs"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum (\n  rate(radosgw_requests_by_method{method=~\"PUT|POST|DELETE\"}[$__rate_interval])\n)",
                    "seriesNameFormat": "Write OPs"
                  }
                }
              }
            }
          ]
        }
      },
      "0_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Objects in the Cluster"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "decimal"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum (ceph_pool_objects) by (pool_id)",
                    "seriesNameFormat": "pool id {{ pool_id }}"
                  }
                }
              }
            }
          ]
        }
      },
      "0_8-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Cluster Total OPs"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (cluster) (rate(radosgw_total_requests{tenant=\"all\", user=\"all\", method=\"all\", http_status=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "{{ cluster }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Average GET/PUT Latencies"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "avg(rate(ceph_rgw_get_initial_lat_sum[$__rate_interval]) / rate(ceph_rgw_get_initial_lat_count[$__rate_interval]))",
                    "seriesNameFormat": "GET AVG"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "avg(rate(ceph_rgw_put_initial_lat_sum[$__rate_interval]) / rate(ceph_rgw_put_initial_lat_count[$__rate_interval]))",
                    "seriesNameFormat": "PUT AVG"
                  }
                }
              }
            }
          ]
        }
      },
      "1_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Requests/sec by RGW Instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_req[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_11": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "HTTP Request Breakdown"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_failed_req[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "Requests Failed {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "GETs {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "PUTs {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_req[$__rate_interval]) - (rate(ceph_rgw_get[$__rate_interval]) + rate(ceph_rgw_put[$__rate_interval])),\n\"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "Other {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "GET Latencies by RGW Instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_get_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Request Queue Length"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "mean",
              "format": {
                "unit": "decimal"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(ceph_rgw_qlen)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "1_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Bandwidth Consumed by Type"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(rate(ceph_rgw_get_b[$__rate_interval]))",
                    "seriesNameFormat": "GETs"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum(rate(ceph_rgw_put_b[$__rate_interval]))",
                    "seriesNameFormat": "PUTs"
                  }
                }
              }
            }
          ]
        }
      },
      "1_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Bandwidth by RGW Instance",
            "description": "Total bytes transferred in/out through get/put operations, by radosgw instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by(rgw_host) (\n  (label_replace(rate(ceph_rgw_get_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")) + \n  (label_replace(rate(ceph_rgw_put_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"))\n)",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "PUT Latencies by RGW Instance"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_put_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Failed Requests"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(\n  rate(ceph_rgw_failed_req[$__rate_interval]),\n  \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\"\n)",
                    "seriesNameFormat": "{{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_8": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "All GET/PUT Latencies"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "seconds"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_get_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "GET {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put_initial_lat_sum[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\") / \nlabel_replace(rate(ceph_rgw_put_initial_lat_count[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "PUT {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_9": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Bandwidth by HTTP Operation"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": true,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_get_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "GETs {{ rgw_host }}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "label_replace(rate(ceph_rgw_put_b[$__rate_interval]), \"rgw_host\", \"$1\", \"pod\", \"rook-ceph-exporter-(.*)-.*-.*\")",
                    "seriesNameFormat": "PUTs {{ rgw_host }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Throughput Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "querySettings": [],
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "(\n  sum by (bucket) (rate(radosgw_bytes_sent{tenant=\"all\", user=\"all\"}[$__rate_interval])) +\n  sum by (bucket) (rate(radosgw_bytes_received{tenant=\"all\", user=\"all\"}[$__rate_interval]))\n) or\n(\n  sum by (bucket) (rate(radosgw_bytes_sent{tenant=\"all\", user=\"all\"}[$__rate_interval])) or \n  sum by (bucket) (rate(radosgw_bytes_received{tenant=\"all\", user=\"all\"}[$__rate_interval]))\n)\n",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_0-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Data Sent Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (bucket) (rate(radosgw_bytes_sent{tenant=\"all\", user=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_0-2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Data Received Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (bucket) (rate(radosgw_bytes_received{tenant=\"all\", user=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Read OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (bucket) (\n  rate(radosgw_requests_by_method{method=~\"GET|HEAD\"}[$__rate_interval])\n)",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "querySettings": [],
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10,\n  sum by (bucket) (\n    rate(radosgw_total_requests{tenant=\"all\", user=\"all\", method=\"all\", http_status=\"all\"}[$__rate_interval])\n  )\n)",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Write OPs Per Bucket"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (bucket) (\n  rate(radosgw_requests_by_method{method=~\"PUT|POST|DELETE\"}[$__rate_interval])\n)",
                    "seriesNameFormat": "{{ bucket }}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Capacity Consumers Per Bucket"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "owner"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "hide": true,
                  "name": "zonegroup"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_usage_bucket_bytes)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "2_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Objects Per Bucket"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "cellSettings": [],
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "owner"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "hide": true,
                  "name": "zonegroup"
                },
                {
                  "hide": true,
                  "name": "service"
                },
                {
                  "name": "bucket"
                },
                {
                  "align": "center",
                  "name": "value"
                }
              ],
              "transforms": []
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sort_desc(radosgw_usage_bucket_objects)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Throughput Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "(\n  sum by (user) (rate(radosgw_bytes_sent{user!=\"all\"}[$__rate_interval])) +\n  sum by (user) (rate(radosgw_bytes_received{user!=\"all\"}[$__rate_interval]))\n) or\n(\n  sum by (user) (rate(radosgw_bytes_sent{user!=\"all\"}[$__rate_interval])) or \n  sum by (user) (rate(radosgw_bytes_received{user!=\"all\"}[$__rate_interval]))\n)",
                    "seriesNameFormat": "{{user}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_0-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Data Sent Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (user) (rate(radosgw_bytes_sent{user!=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "{{user}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_0-2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Data Received Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "bytes/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (user) (rate(radosgw_bytes_received{user!=\"all\"}[$__rate_interval]))",
                    "seriesNameFormat": "{{user}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - OPs per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10,\n  sum by (user) (\n    rate(radosgw_total_requests{user!=\"all\", method!=\"all\"}[$__rate_interval])\n  )\n)",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_4-1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Read OPs Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (user) (\n  rate(radosgw_requests_by_method{method=~\"GET|HEAD\", user!=\"all\"}[$__rate_interval])\n)",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_4-2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Write OPs Per User"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "small",
                "values": [
                  "mean",
                  "last",
                  "max"
                ]
              },
              "visual": {
                "areaOpacity": 0.1,
                "connectNulls": false,
                "lineWidth": 1.25,
                "pointRadius": 2.75
              },
              "yAxis": {
                "format": {
                  "unit": "requests/sec"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "sum by (user) (\n  rate(radosgw_requests_by_method{method=~\"PUT|POST|DELETE\", user!=\"all\"}[$__rate_interval])\n)",
                    "seriesNameFormat": "{{ user }}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Amount Of Objects Per User"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "cellSettings": [
                {
                  "backgroundColor": "#2FBF71",
                  "condition": {
                    "kind": "Value",
                    "spec": {
                      "value": "service"
                    }
                  },
                  "text": "Akshay",
                  "textColor": "#000"
                }
              ],
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "header": "user",
                  "name": "user"
                },
                {
                  "hide": true,
                  "name": "service"
                },
                {
                  "align": "center",
                  "name": "value"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_objects_total)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Capacity Consumers Per User"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "header": "user",
                  "name": "user"
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_capacity_usage_bytes)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Top 10 - Buckets Per User"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "cluster"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "namespace"
                },
                {
                  "hide": true,
                  "name": "organization"
                },
                {
                  "hide": true,
                  "name": "pod"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "rgw_cluster_id"
                },
                {
                  "header": "user",
                  "name": "user"
                },
                {
                  "hide": true,
                  "name": "service"
                },
                {
                  "align": "center",
                  "name": "value"
                }
              ],
              "defaultColumnWidth": "auto",
              "density": "standard"
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "datasource": {
                      "kind": "PrometheusDatasource"
                    },
                    "minStep": "",
                    "query": "topk(10, radosgw_user_buckets_total)",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      }
    },
    "layouts": [
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Cluster Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 4,
              "content": {
                "$ref": "#/spec/panels/0_0"
              }
            },
            {
              "x": 0,
              "y": 4,
              "width": 4,
              "height": 4,
              "content": {
                "$ref": "#/spec/panels/0_0-1"
              }
            },
            {
              "x": 0,
              "y": 8,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_11"
              }
            },
            {
              "x": 4,
              "y": 0,
              "width": 3,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_5"
              }
            },
            {
              "x": 7,
              "y": 0,
              "width": 5,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_4"
              }
            },
            {
              "x": 8,
              "y": 8,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_3"
              }
            },
            {
              "x": 16,
              "y": 8,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_8-1"
              }
            },
            {
              "x": 12,
              "y": 0,
              "width": 3,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_2"
              }
            },
            {
              "x": 15,
              "y": 0,
              "width": 5,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_1-1"
              }
            },
            {
              "x": 16,
              "y": 16,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_6"
              }
            },
            {
              "x": 8,
              "y": 16,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_10"
              }
            },
            {
              "x": 0,
              "y": 16,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_7"
              }
            },
            {
              "x": 16,
              "y": 24,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_13-1"
              }
            },
            {
              "x": 8,
              "y": 24,
              "width": 8,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/0_13-2"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "RGW Instance Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_0"
              }
            },
            {
              "x": 8,
              "y": 0,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_1"
              }
            },
            {
              "x": 16,
              "y": 0,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_2"
              }
            },
            {
              "x": 0,
              "y": 7,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_4"
              }
            },
            {
              "x": 8,
              "y": 7,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_5"
              }
            },
            {
              "x": 16,
              "y": 7,
              "width": 8,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/1_6"
              }
            },
            {
              "x": 8,
              "y": 24,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/1_3"
              }
            },
            {
              "x": 16,
              "y": 14,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_7"
              }
            },
            {
              "x": 8,
              "y": 14,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_9"
              }
            },
            {
              "x": 0,
              "y": 14,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_8"
              }
            },
            {
              "x": 0,
              "y": 24,
              "width": 8,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/1_11"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Bucket Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_0"
              }
            },
            {
              "x": 8,
              "y": 10,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_1"
              }
            },
            {
              "x": 16,
              "y": 10,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_3"
              }
            },
            {
              "x": 8,
              "y": 0,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_0-1"
              }
            },
            {
              "x": 16,
              "y": 0,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_0-2"
              }
            },
            {
              "x": 8,
              "y": 20,
              "width": 8,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_6"
              }
            },
            {
              "x": 0,
              "y": 20,
              "width": 8,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_5"
              }
            },
            {
              "x": 0,
              "y": 10,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_2"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "User Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_0"
              }
            },
            {
              "x": 8,
              "y": 0,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_0-1"
              }
            },
            {
              "x": 16,
              "y": 0,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_0-2"
              }
            },
            {
              "x": 0,
              "y": 10,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_4"
              }
            },
            {
              "x": 8,
              "y": 10,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_4-1"
              }
            },
            {
              "x": 16,
              "y": 10,
              "width": 8,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_4-2"
              }
            },
            {
              "x": 8,
              "y": 20,
              "width": 8,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_5"
              }
            },
            {
              "x": 0,
              "y": 20,
              "width": 8,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_6"
              }
            },
            {
              "x": 16,
              "y": 20,
              "width": 8,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_7"
              }
            }
          ]
        }
      }
    ],
    "variables": [
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Datasource",
            "hidden": false
          },
          "defaultValue": "kube-monitoring-st1-eu-de-1-prometheus",
          "allowAllValue": false,
          "allowMultiple": false,
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "job",
              "matchers": [
                "prometheus_build_info"
              ]
            }
          },
          "name": "datasource"
        }
      }
    ],
    "duration": "1h",
    "refreshInterval": "0s"
  }
}
